"use strict";(self.webpackChunkcodrops_scroll_rig_tutorial=self.webpackChunkcodrops_scroll_rig_tutorial||[]).push([[535],{3535:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var r=s(9408),o=s(5043),n=s(6026),i=s(7894),a=s(1493),c=s(6041),l=s(7271),h=s(2309),u=s(9245),d=s(5368),x=s(8559),p=s(9871),f=s(9904),g=s(5246),j=s(579);const m=["#ff4060","#20ffa0","#ffcc00"],y=()=>(0,j.jsx)(w,{style:{borderRadius:30,width:"100%",height:"65vh"}});function w(e){const[t,s]=(0,o.useReducer)((e=>++e%m.length),0),r=(0,o.useMemo)((()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return[{color:"#444",roughness:.1},{color:"#444",roughness:.75},{color:"#444",roughness:.75},{color:"white",roughness:.1},{color:"white",roughness:.75},{color:"white",roughness:.1},{color:m[e],roughness:.1,accent:!0},{color:m[e],roughness:.75,accent:!0},{color:m[e],roughness:.1,accent:!0}]}(t)),[t]),{ref:i,inView:u}=(0,g.Wx)(),f=(0,o.useRef)();return(0,j.jsxs)(n.Hl,{ref:i,onClick:s,shadows:!0,dpr:[1,1.5],gl:{antialias:!1},camera:{position:[0,0,15],fov:17.5,near:1,far:20},frameloop:u?"always":"never",...e,children:[(0,j.jsx)("color",{attach:"background",args:["#000000"]}),(0,j.jsx)("ambientLight",{intensity:.4}),(0,j.jsx)("spotLight",{position:[10,10,10],angle:.15,penumbra:1,intensity:1,castShadow:!0}),(0,j.jsx)(v,{boxRef:f}),(0,j.jsxs)(d.AQ,{gravity:[1,0,0],children:[(0,j.jsx)(R,{boxRef:f}),(0,j.jsxs)("group",{ref:f,children:[r.map(((e,t)=>(0,j.jsx)(M,{...e},t))),(0,j.jsx)(M,{position:[10,10,5],children:(0,j.jsx)(I,{children:(0,j.jsx)(a.$,{clearcoat:1,thickness:.1,anisotropicBlur:.1,chromaticAberration:.1,samples:8,resolution:0})})})]})]}),(0,j.jsx)(x.s,{disableNormalPass:!0,multisampling:8,children:(0,j.jsx)(p.j,{distanceFalloff:1,aoRadius:1,intensity:4})}),(0,j.jsx)(c.OH,{resolution:256,children:(0,j.jsxs)("group",{rotation:[-Math.PI/3,0,1],children:[(0,j.jsx)(l.O,{form:"circle",intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:2}),(0,j.jsx)(l.O,{form:"circle",intensity:2,"rotation-y":Math.PI/2,position:[-5,1,-1],scale:2}),(0,j.jsx)(l.O,{form:"circle",intensity:2,"rotation-y":Math.PI/2,position:[-5,-1,-1],scale:2}),(0,j.jsx)(l.O,{form:"circle",intensity:2,"rotation-y":-Math.PI/2,position:[10,1,0],scale:8})]})}),(0,j.jsx)(h.E,{style:{zIndex:-1},children:(0,j.jsxs)("div",{className:"text-container",children:[(0,j.jsx)("p",{id:"aBrift",children:"A brief pause for a little fun ..."}),(0,j.jsxs)("p",{children:[" ",(0,j.jsx)("i",{children:"and perhaps we can design "})]}),(0,j.jsxs)("p",{children:[" ",(0,j.jsx)("i",{children:"a personal touch just for you too "})]})]})})]})}function v(e){let{boxRef:t}=e;(0,i.A)(((e,s)=>{t.current.rotation.y-=.002,t.current.rotation.y<=-2*Math.PI&&(t.current.rotation.y=0)}))}var b=0;function M(e){let{position:t,children:s,vec:n=new r.Vector3,scale:a,r:c=r.MathUtils.randFloatSpread,accent:l,...h}=e;const u=(0,o.useRef)(),x=(0,o.useMemo)((()=>t||[c(10),c(10),c(10)]),[]);return(0,i.A)(((e,t)=>{var s;t=Math.min(.1,t),(b+=2e-4)>=2*Math.PI&&(b=0),null===(s=u.current)||void 0===s||s.applyImpulse(n.copy(u.current.translation()).add(new r.Vector3(Math.sin(b),.5*Math.cos(b),0)).negate().multiplyScalar(.2))})),(0,j.jsxs)(d.Ux,{linearDamping:4,angularDamping:1,friction:.1,position:x,ref:u,colliders:!1,children:[(0,j.jsx)(d.Xc,{args:[.295,.9625,.295]}),(0,j.jsx)(d.Xc,{args:[.9625,.295,.295]}),(0,j.jsx)(d.Xc,{args:[.295,.295,.9625]}),s||(0,j.jsx)(I,{...h}),l&&(0,j.jsx)("pointLight",{intensity:4,distance:2.5,color:h.color})]})}function R(e){let{vec:t=new r.Vector3,boxRef:s}=e;const n=(0,o.useRef)();return(0,i.A)((e=>{var r;let{mouse:o,viewport:i}=e;var a=o.x*i.width/2;o.y,i.height;null===(r=n.current)||void 0===r||r.setNextKinematicTranslation(t.set(a*Math.cos(s.current.rotation.y),o.y*i.height/2,-a*Math.cos(s.current.rotation.y)))})),(0,j.jsx)(d.Ux,{position:[0,0,0],type:"kinematicPosition",colliders:!1,ref:n,children:(0,j.jsx)(d.wV,{args:[1]})})}function I(e){let{children:t,color:s="white",roughness:r=0,...n}=e;const a=(0,o.useRef)(),{nodes:c,materials:l}=(0,u.p)("/glb/Homie_Jath.glb");return(0,i.A)(((e,t)=>{f.cz.dampC(a.current.material.color,s,.3,t)})),(0,j.jsxs)("mesh",{ref:a,castShadow:!0,receiveShadow:!0,scale:2,geometry:c.connector.geometry,children:[(0,j.jsx)("meshStandardMaterial",{metalness:.5,roughness:r,material:l.base}),t]})}}}]);
//# sourceMappingURL=535.d94b41b4.chunk.js.map